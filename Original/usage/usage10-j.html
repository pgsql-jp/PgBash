<HTML>

<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
  <META NAME="Description" CONTENT="pgbashは、bash シェルにPostgreSQL用の直接SQL/埋込SQLインターフェイスの機能を組みこんだシェルです。">
  <META NAME="KeyWords" CONTENT="PostgreSQL,pgbash,bash,SQLインターフェイス">   

  <TITLE>PostgreSQL pgbash usage</TITLE>
</HEAD>

<BODY BGCOLOR=#eeeeff text=#000000 ALINK=#ff0000>
<BASEFONT SIZE=3>
<CENTER>
<BLOCKQUOTE>
<TABLE BORDER=0><TR><TD width=640>

<CENTER>

<TABLE BORDER=0 width=90%><TR>
<TD align=left>  [<a href="usage08-j.html">Prev</A>] </TD>
<TD align=middle>[<a href="../usage-j.html" align=middle>Menu</A>] </TD>
<TD align=right> [<a href="usage11-j.html">Next</A>] </TD>
</TR></TABLE>

<hr>
<FONT SIZE=5 COLOR="#0000ff"><B>ラージオブジェクトの取扱</B></FONT><BR>
<hr>
<BR>

<TABLE BORDER=0><TR><TD>

<UL>
<A NAME="LO_IMPORT">
<font size=4><B><LI>_lo_import</B></font><BR>
</A>
<BR>
  <B>_lo_import ファイル名 '注釈'</B><BR>
  <BR>
  _lo_import は、ファイル名と注釈を指定して、ラージオブジェクトをデータベースに登録します。正常に登録された場合は、"BEGIN","INSERT OID","COMMIT"のメッセージが表示されます。<BR>
  <BR>
例)<BR>
pgbash> _lo_import member.dat 'member data'<BR>
BEGIN<BR>
INSERT 118868 1<BR>
COMMIT<BR>

<BR>
<BR>
<A NAME="LO_EXPORT">
<font size=4><B><LI>_lo_export</B></font><BR>
</A>
<BR>
_lo_export は、データベースに登録されたラージオブジェクトをファイルに取り出します。例えば、OIDが 11885 のラージオブジェクトを /tmp/mm ファイルに取り出すには次のようにします。<BR>
<BR>
例)<BR>
_lo_export 11885 /tmp/mm<BR>
<BR>
<BR>
<A NAME="LO_UNLINK">
<font size=4><B><LI>_lo_unlink</B></font><BR>
</A>
<BR>
_lo_unlink は、データベースに登録されたラージオブジェクト情報を削除します。正常に削除された場合は、"BEGIN","DELETE 件数","COMMIT"のメッセージが表示されます。<BR>
<BR>
例)<BR>
_lo_unlink 11885<BR>
BEGIN<BR>
DELETE 1<BR>
COMMIT<BR>
<BR>
<BR>
<A NAME="LO_LIST">
<font size=4><B><LI>_lo_list</B></font><BR>
</A>
<BR>
_lo_list は、登録されているラージオブジェクトの一覧を表示します。<BR>
<BR>
pgbash> _lo_list<BR>
<pre>
 objoid | description
--------+--------------
 118865 | member data1
 118867 | member data2
(2 rows)
</pre>
<BR>
<A NAME="DESCRIPTION">
<font size=4><B><LI>pgbash_description テーブル</B></font><BR>
</A>
<BR>
Pgbashは、ラージオブジェクトのOIDと注釈を、"pgbash_description"テーブルに登録します。"pgbash_description"テーブルは、始めて _lo_import が実行されたときに自動的に作成されます。<BR>
<BR>
pgbash_descriptionテーブルは、ユーザの権限で作成されるため、Postgresスーパユーザでなくても、ラージオブジェクトの登録が可能です。<BR>


</UL>
</TD></TR></TABLE>
<BR>

<HR>
<TABLE BORDER=0 width=90%><TR>
<TD align=left>  [<a href="usage08-j.html">Prev</A>] </TD>
<TD align=middle>[<a href="../usage-j.html" align=middle>Menu</A>] </TD>
<TD align=right> [<a href="usage11-j.html">Next</A>] </TD>
</TR></TABLE>

<BR>

</CENTER>
</TD></TR></TABLE>
</BLOCKQUOTE>
</CENTER>
</BODY>
</HTML>
